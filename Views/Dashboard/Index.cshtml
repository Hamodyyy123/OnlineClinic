@* Views/Dashboard/Index.cshtml *@
@{
    ViewData["Title"] = "Dashboard";
}

<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/Dashboard.css" asp-append-version="true" />

<div class="dashboard-page-wrapper" data-role="@ViewBag.UserRole">
    <!-- Hero / Header -->
    <section class="dashboard-hero">
        <div class="dashboard-hero-bg"></div>
        <div class="container dashboard-hero-content">
            <div class="dashboard-hero-text">
                <h1>Clinic Dashboard</h1>
                <p>Your centralized view of appointments, consultations, and patient activity.</p>
            </div>
            <div class="dashboard-hero-meta">
                <div class="dash-stat-card">
                    <span class="dash-stat-label">Role</span>
                    <span class="dash-stat-value" id="dash-role-label">@ViewBag.UserRole</span>
                </div>
                <div class="dash-stat-card dash-stat-highlight">
                    <span class="dash-stat-label">Today</span>
                    <span class="dash-stat-value" id="dash-main-value">–</span>
                    <span class="dash-stat-caption" id="dash-main-caption">Loading…</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Notifications + Widgets -->
    <section class="container dashboard-main">
        <div class="row g-4">
            <div class="col-lg-4">
                <div id="notifications-widget" class="dashboard-notifications"></div>
                <!-- Compact mini pie / donut chart -->
                <div class="widget widget-mini-chart" id="mini-appointments-chart">
                    <h6>Today’s Appointments</h6>
                    <div class="mini-donut">
                        <div class="mini-donut-circle">
                            <div class="mini-donut-fill" id="mini-donut-fill"></div>
                            <div class="mini-donut-center">
                                <span id="mini-donut-value">0</span>
                            </div>
                        </div>
                        <div class="mini-donut-legend">
                            <div><span class="dot booked"></span>Booked</div>
                            <div><span class="dot completed"></span>Completed</div>
                            <div><span class="dot cancelled"></span>Cancelled</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-8">
                <div id="dashboard-widgets" class="dashboard-widgets"></div>
            </div>
        </div>
    </section>
</div>

@section Scripts {
    <script>
        window.currentUserRole = '@ViewBag.UserRole';
    </script>
    <script src="~/js/Dashboard.js" asp-append-version="true"></script>
}